@import "BetterSidebar-Background.css";
@import "BetterSidebar-Collapsed/Background-Alignment-Collapsed.css";
@import "BetterSidebar-Collapsed/Alignment-Collapsed.css";
@import "BetterSidebar-Expanded/Background-Alignment-Expanded.css";
@import "BetterSidebar-Expanded/Alignment-Expanded.css";

@media (-moz-pref("browser.tabs.allow_transparent_browser")) {
    /* Adjustments for compact sidebar expanded mode */
    :root[zen-sidebar-expanded="true"] body:has([zen-compact-mode="true"]) #titlebar{
        width: var(--Neo-Width-Compact-Expanded) !important;
        min-width: calc(var(--Neo-Width-Compact-Expanded)) !important;
    }
    /* Fix issue from nebula when sidebar is at the right side not taking the correct position due to the navigator-toolbox width */
    :root[zen-right-side="true"][zen-compact-mode="true"] #navigator-toolbox{
        width: var(--Neo-Width-Compact-Expanded) !important;
    }
}

/* Bigger sidebar when collapsed */
#navigator-toolbox:not([zen-sidebar-expanded="true"]) {
  max-width: calc(var(--zen-toolbox-max-width) + 0px) !important;
  min-width: calc(var(--zen-toolbox-max-width) + 0px) !important;
  padding-bottom: var(--zen-toolbox-padding);
  padding-left: 4px !important;
  padding-right: 4px !important; 
}

/* Adjust tabs width to the new width of the sidebar */
#tabbrowser-tabs[orient="vertical"] {
  &:not([expanded]) {
    & .tab-background {
      width: calc(var(--tab-collapsed-background-width) - 12px) !important;
    }
  }
}


#navigator-toolbox:not([zen-sidebar-expanded="true"]) {
    & #tabbrowser-tabs {
        display: flex !important;
        flex-direction: column !important;
        overflow: hidden !important; /* Prevents overflow */
      align-content: center !important;
        
        & .tabbrowser-tab {
            display: flex !important;
            flex-shrink: 1 !important;
            box-sizing: border-box !important; /* Includes padding in width */
            
            & .tab-stack {
                
                & .tab-content {
                }
            }
        }
    }
}